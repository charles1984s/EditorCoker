var grapesInit=function(e){const t={css:["/lib/bootstrap/dist/css/bootstrap.min.css","/lib/swiper/swiper-bundle.min.css","/lib/fortawesome/css/all.min.css","/css/Grapes/GrapesCss.min.css","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200","/Shared/shared.min.css","/Layout/Default_Site.css"],js:["/lib/jquery/dist/jquery.min.js","/lib/bootstrap/dist/js/bootstrap.bundle.min.js","/lib/swiper/swiper-bundle.min.js","/lib/masonry-layout/dist/masonry.pkgd.min.js","/lib/jquery-plugin-c-share/dist/jquery.c-share.min.js","/Shared/shared.min.js"]};"undefined"!=typeof frameLevel&&null!=frameLevel&&0!=frameLevel&&t.css.push(`/Layout/Layout_${frameLevel}_Site.min.css`);var s=grapesjs.init({showOffsets:1,noticeOnUnload:0,container:"#gjs",height:"100vh",i18n:{locale:"tw",localeFallback:"tw"},selectorManager:{componentFirst:!0},assetManager:{custom:!1,uploadFile:function(e){var t=e.dataTransfer?e.dataTransfer.files:e.target.files,a=new FormData;for(var r in t)a.append("files",t[r]);a.append("type",0),co.File.Upload(a).done((function(e){if(e.success){var t=[];$(e.files).each((function(e){t.push({src:this.path,name:this.name,guid:this.guid})}));var a=t;s.AssetManager.add(a)}else"Type Error"==e.errorFiles[0]&&co.sweet.error("錯誤","不支援的檔案格式",null,!1)}))}},plugins:["gjs-blocks-basic","grapesjs-preset-webpage","grapesjs-style-bg","grapesjs-tabs","grapesjs-custom-code","grapesjs-blocks-table","grapesjs-parser-postcss","grapesjs-Coker6"],pluginsOpts:{"gjs-blocks-basic":{flexGrid:!0},"grapesjs-table":{},"grapesjs-preset-webpage":{modalImportButton:"匯入",modalImportTitle:"匯入原始碼",modalImportLabel:'<div style="margin-bottom: 10px; font-size: 1rem;">請輸入您的原始碼</div>',modalImportContent:function(e){return e.getHtml()+"<style>"+e.getCss()+"</style>"}},"grapesjs-tabs":{tabsBlock:{category:"Extra"}},"grapesjs-tui-image-editor":{script:["/lib/tui-code/js/tui-code-snippet.min.js","/lib/tui-code/js/tui-color-picker.min.js","/lib/tui-code/js/tui-image-editor.min.js"],style:["/lib/tui-code/css/tui-color-picker.min.css","/lib/tui-code/css/tui-image-editor.min.css"]},"grapesjs-blocks-table":{containerId:"#gjs",componentCell:".test"},"grapesjs-Coker6":e,"grapesjs-preset-newsletter":{modalLabelExport:"Copy the code and use it wherever you want",codeViewerTheme:"material",cellStyle:{"font-size":"1rem","font-weight":300,"vertical-align":"top",color:"rgb(111, 119, 125)",margin:0,padding:0}},"grapesjs-plugin-ckeditor":{onToolbar:e=>{e.style.minWidth="350px"},ckeditor:"https://cdn.ckeditor.com/4.22.1/full-all/ckeditor.js",options:{language:"zh",startupFocus:!0,extraAllowedContent:"*(*);*{*}",allowedContent:!0,enterMode:2,extraPlugins:"sharedspace,justify,colorbutton,panelbutton,font",removePlugins:"exportpdf",fontSize_sizes:"0.8rem;1rem;1.2rem;1.5rem;2rem;2.5rem;3rem;",colorButton_enableMore:!0,toolbar:[{name:"styles",items:["Font","FontSize"]},["Bold","Italic","Underline","Strike"],{name:"paragraph",items:["NumberedList","BulletedList"]},{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]}]}},"gjs-plugin-ckeditor5":{position:"left",options:{trackChanges:{},toolbar:{items:["|","fontColor","fontSize","fontFamily","fontBackgroundColor","alignment","bold","italic","underline","strikethrough","link","bulletedList","numberedList","horizontalLine","|","outdent","indent","|","blockQuote","insertTable","|","undo","redo"]},language:"zh",fontSize:{options:["0.8rem","1rem","1.2rem","1.5rem","2rem","2.5rem","3rem"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},licenseKey:""}},"grapesjs-rte-extensions":{base:{bold:!0,italic:!0,underline:!0,strikethrough:!0,link:!0},fonts:{fontColor:!0,hilite:!0},format:{heading2:!0,heading3:!0,heading4:!1,paragraph:!0,clearFormatting:!0},subscriptSuperscript:!1,indentOutdent:!1,list:!1,align:!0,actions:!1,undoredo:!1,extra:!1,darkColorPicker:!0,maxWidth:"600px"}},canvas:{styles:t.css,scripts:t.js},domComponents:{processor:e=>{if(e.classes){const t=document.getElementsByClassName("gjs-frame")[0].contentWindow;let s=null;void 0===t.local&&(t.local={},co.i18.getAll().done((function(e){t.local=e})));const a=function(){void 0!==t.jqueryExtend&&void 0!==t.local?t.jqueryExtend():s=setTimeout(a,100)};s=setTimeout(a,100);let r=[{key:"SwiperInit",state:!1,run:!0,class:[],parameter:{autoplay:!1}},{key:"FrameInit",state:!1,run:!0,class:[],parameter:{}},{key:"ViewTypeChangeInit",state:!1,run:!0,class:[],parameter:{}},{key:"SitemapInit",state:!1,run:!0,class:[],parameter:{}},{key:"HoverEffectInit",state:!1,run:!0,class:[],parameter:{}},{key:"DirectoryGetDataInit",state:!1,run:!0,class:[],parameter:{}},{key:"LinkWithIconInit",state:!1,run:!0,class:[],parameter:{}},{key:"AnchorPointInit",state:!1,run:!0,class:[],parameter:{}},{key:"ShareBlockInit",state:!1,run:!0,class:[],parameter:{}}];const o=function(e,t){r[e].state=!0,r[e].run=!1,r[e].class.push(`.${t}`)};$(e.classes).each((function(){var e=this.toString();switch(e){case"one_swiper":case"two_swiper":case"four_swiper":case"five_swiper":case"six_swiper":o(0,e),r[0].parameter.autoplay=!1;break;case"masonry":o(1,e);break;case"frame":case"type_change_frame":o(2,e);break;case"sitemap_hierarchical_frame":o(3,e);break;case"hover_mask":o(4,e);break;case"catalog_frame":case"menu_directory":o(5,e);break;case"link_with_icon":o(6,e);break;case"anchor_directory":case"anchor_title":o(7,e);break;case"shareBlock":o(8,e)}}));const i=function(){var e=!0;$(r).each((function(){var s=this;if(s.state){let e=!0;$(s.class).each((function(){0==t.$(this).length&&(e=!1)})),e&&(t[s.key](s.parameter),s.run=!0)}e=e&&this.run})),e||setTimeout(i,300)};setTimeout(i,300)}}},fromElement:!0,storageManager:{autoload:!1}});return s};