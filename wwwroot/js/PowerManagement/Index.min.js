function PageReady(){const e=[{Id:1,Name:"總管理者",menubar:[{Id:1,Name:"易碩網際科技"},{Id:2,Name:"黃小姐"},{Id:3,Name:"章小姐"}]},{Id:2,Name:"網站維護者",menubar:[{Id:4,Name:"張小姐"}]},{Id:0,Name:"無群組",menubar:[{Id:5,Name:"黃先生"}]}],a=$("#MemberData").html(),t=$("#RoleData").html(),n=$("#PowerData").html(),o=function(){co.PowerManagement.GetAll().done((function(e){const a=$("#offcanvas1"),t=a.find(".offcanvas-body");a.find(".siteName").text(e.title),c(t,e.jobs)}))},c=function(e,a){$(a).each(((a,t)=>{if(t.enable){const a=$(n);a.find(".title").text(t.title),a.find("#new+label").attr({for:`${t.pageName}_new`}),a.find("#new").attr({id:`${t.pageName}_new`,name:`${t.pageName}_new`}).prop("checked",t.canCreate),a.find("#del+label").attr({for:`${t.pageName}_del`}),a.find("#del").attr({id:`${t.pageName}_del`,name:`${t.pageName}_del`}).prop("checked",t.canRemove),a.find("#edit+label").attr({for:`${t.pageName}_edit`}),a.find("#edit").attr({id:`${t.pageName}_edit`,name:`${t.pageName}_edit`}).prop("checked",t.canUpdate),a.find("#view+label").attr({for:`${t.pageName}_view`}),a.find("#view").attr({id:`${t.pageName}_view`,name:`${t.pageName}_view`}).prop("checked",t.canVisble),a.appendTo(e),null!=t.jobItemModels&&t.jobItemModels.length>0&&c(a,t.jobItemModels)}}))},i=function(){const e=$(this),a=e.data();$(".powerctrl .role-item").removeClass("roleChecked"),e.addClass("roleChecked"),$("#roleMember").empty(),$(a.menubar).each(((e,a)=>{m("#roleMember",a)})),console.log(e.data())},d=function(e){$(e.menubar).each((function(){m("#noGroupMember",this)}))},m=function(e,t){const n=$(a).data(t);n.find(".title").text(t.Name),n.appendTo(e)},l=function(e){const a=$(t).data(e);a.find(".title").text(e.Name),a.on("click",i),a.appendTo("#RoleList")};$(e).each((function(e,a){0!=a.Id?l(a):d(a)})),$(".powerctrl .role-item").first().trigger("click"),o(),$(".powerctrl .member-item").on("click",(function(){$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked")})),$("#right-btn").on("click",(function(){$("#roleMember .member-item").each((function(){$(this).hasClass("checked")&&($(this).appendTo("#noGroupMember"),$(this).removeClass("checked"))}))})),$("#left-btn").on("click",(function(){$("#noGroupMember .member-item.checked").each((function(){$(this).hasClass("checked")&&($(this).appendTo("#roleMember"),$(this).removeClass("checked"))}))})),$(".fa-trash-alt").on("click",(function(){const e=$(this).closest(".item"),a=$(e).hasClass("member-item")?`是否確認刪除使用者<span class="ConfirmDanger">${$(e).text()}</span>`:`是否確認刪除角色<span class="rad">${$(e).text()}</span>`;co.sweet.confirm("確認刪除?",a,"確認","取消",(function(){$(e).remove()}))}))}