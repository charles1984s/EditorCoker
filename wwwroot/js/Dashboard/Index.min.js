var PageReady=function(){var e=$("#chart-bars").data("remotes"),t=document.getElementById("chart-bars").getContext("2d");co.Picker.Init($("#InputDate"),{timePicker:!1,startDate:moment().subtract(6,"days").toDate(),endDate:moment().toDate()}),$("#InputDate").on("change",(function(){const e=$("#InputDate").val().split("~"),t=new Date(e[0]),a=new Date(e[1]);co.Remote.GetRemoteCount({StartDate:t,EndDate:a}).done((function(e){var t=e.websitesRemotesCount,a=e.websitesRemotesMemCount,o=e.websitesRemotesDate;console.log(a,o),function(e,t,a){const o=Chart.getChart("chart-bars");o?(o.data.labels=e,o.data.datasets[0].data=t,o.data.datasets[1].data=a,o.update()):console.error("Chart instance not found");const n=t.reduce(((e,t)=>e+t),0),r=a.reduce(((e,t)=>e+t),0);document.querySelector(".dateRange-sum-mem-count").textContent=r,document.querySelector(".dateRange-sum-count").textContent=n}(o,t,a)}))})),new Chart(t,{type:"bar",data:{labels:e.WebsitesRemotesDate,datasets:[{label:"人次",tension:.4,borderWidth:0,borderRadius:4,borderSkipped:!1,backgroundColor:"rgba(255, 255, 255, 1)",data:e.WebsitesRemotesCount,maxBarThickness:25},{label:"人數",tension:.4,borderWidth:0,borderRadius:4,borderSkipped:!1,backgroundColor:"#fea11d",data:e.WebsitesRemotesMemCount,maxBarThickness:20}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{generateLabels:function(e){const t=Chart.defaults.plugins.legend.labels.generateLabels.apply(this,[e]);return t.forEach((function(e,t){0===t?e.fontColor="rgba(255, 255, 255, 1)":1===t&&(e.fontColor="#ffe2c7")})),t}}}},interaction:{intersect:!1,mode:"index"},scales:{y:{grid:{drawBorder:!1,display:!0,drawOnChartArea:!0,drawTicks:!1,borderDash:[5,5],color:"rgba(255, 255, 255, .2)"},ticks:{suggestedMin:0,suggestedMax:500,beginAtZero:!0,padding:10,font:{size:14,weight:300,family:"Roboto",style:"normal",lineHeight:2},color:"#fff"}},x:{grid:{drawBorder:!1,display:!0,drawOnChartArea:!0,drawTicks:!1,borderDash:[5,5],color:"rgba(255, 255, 255, .2)"},ticks:{display:!0,color:"#f8f9fa",padding:10,font:{size:14,weight:300,family:"Roboto",style:"normal",lineHeight:2}}}}}})};$(document).ready((function(){}));