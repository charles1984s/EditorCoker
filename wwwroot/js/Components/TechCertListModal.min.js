var $btn_techcert_save,$techcert,$price_modal,priceModal,$techcert_body,techcertModal,techcert_changedBySelectBox,techcert_clearSelectionButton,techcert_text,techcert_list=[],techcert_check_list=[];function TechCertListModalInit(){TechCertListModalElementInit(),techcertModal=new bootstrap.Modal(document.getElementById("TechCertModal")),$("#TechCertModal").on("hidden.bs.modal",(function(){var t=[];techcert_list.forEach((function(e){e.IsDeleted||t.push(e.FK_TCId)})),getTechCertListDataGridInstance().selectRows(t)})),$btn_techcert_save.on("click",(function(){techcert_check_list.length>0?(techcert_list.forEach((function(t){var e=techcert_check_list.indexOf(t.FK_TCId);e>-1?(t.IsDeleted=!1,techcert_check_list.splice(e,1)):t.IsDeleted=!0})),techcert_check_list.length>0&&techcert_check_list.forEach((function(t){var e={Id:0};e.FK_TCId=t,e.IsDeleted=!1,techcert_list.push(e)}))):techcert_list.forEach((function(t){t.IsDeleted=!0})),$techcert.val(techcert_text),techcertModal.hide()}))}function TechCertListModalElementInit(){$techcert=$("#InputTechCert"),$btn_techcert_save=$(".btn_techcert_save")}function getTechCertListDataGridInstance(){return $("#TechCertList").dxDataGrid("instance")}function TechCertList_ClearBtnInit(t){techcert_clearSelectionButton=t.component}function TechCertList_ClearBtnClick(){techcert_list.length>0&&techcert_list.forEach((function(t){t.IsDeleted=!0})),getTechCertListDataGridInstance().clearSelection()}function TechCertList_SelectChange(t){var e=t.selectedRowsData;techcert_check_list=[],e.length>0?(techcert_text=e.map((t=>`${t.Title}`)).join("、"),e.forEach((function(t){techcert_check_list.push(t.Id)}))):techcert_text="無",techcert_changedBySelectBox=!1,techcert_clearSelectionButton.option("disabled",!e.length)}function TechCertDataClear(){techcert_list=[],techcert_check_list=[],techcert_text="",$techcert.val(""),getTechCertListDataGridInstance().clearSelection()}function TechCertDataSet(t){var e="";if(null!=t&&t.length>0){var c=[];t.forEach((function(t){var r={};r.Id=t.id,r.FK_TCId=t.fK_TCId,r.IsDeleted=!1,c.push(t.fK_TCId),e=""==e?t.techCert_Name:e+"、"+t.techCert_Name,techcert_list.push(r)})),getTechCertListDataGridInstance().selectRows(c)}$techcert.val(""==e?"無":e);const r=$techcert[0];setTimeout((function(){$tag.removeClass("multiple"),r.scrollHeight>r.offsetHeight&&$techcert.addClass("multiple")}),300)}