var page_now=1;function SelectStationInit(){co.WebSite.getPageAll(null).done((function(a){null!=a&&a.totalPage>0&&(page_now=a.pageNow,a.totalPage>1&&(StationPageBtnInit($(".page_btn"),a.totalPage),StationContentPageChage($(".page_btn"),page_now,a.totalPage)),StationPageSet(a))}))}function StationPageSet(a){$(".app-switcher").empty(),a.webs.forEach((function(a){var t=$($("#TemplateApp").html()).clone();a.check&&(t.find("[data-key='Id']").addClass("active-app"),t.find("[data-key='description']").after("<span class='material-icons app-selected md-16'>check</span>")),t.find("[data-key='Id']").data("id",a.id),t.find("[data-key='image']").attr({src:a.images,alt:a.name}),t.find("[data-key='name']").text(a.name),t.find("[data-key='description']").text(a.description),$(".app-switcher").append(t),t.find($(".webitem")).on("click",(function(a){a.preventDefault(),WebitemClick(t)}))}))}function WebitemClick(a){$(".app-switcher .active-app").removeClass("active-app"),$(".app-switcher .app-selected").remove(),a.find(".card").addClass("active-app"),a.find(".card-body").append('<span class="material-icons app-selected md-16">check</span>')}function StationPageBtnInit(a,t){a.addClass("d-flex");for(var e=1;e<=t;e++){var n="";e==t&&t>7&&(n+='<li class="page-item btn_page endhide">\n                                    <button class="d-none" title="..." disabled=\'disabled\'>...</button>\n                                </li>'),n+=`<li class="page-item btn_page">\n                                    <button class="d-none" data-page='${e}' title="切換至第${e}頁">${e}</button>\n                                </li>`,1==e&&t>7&&(n+='<li class="page-item btn_page starthide">\n                                    <button class="d-none" title="..." disabled=\'disabled\'>...</button>\n                                </li>'),a.find(".btn_next").before(n)}a.find(".btn_prev button").on("click",(function(){var a=$(this);page_now>1&&(page_now-=1,StationContentPageChage(a.parent("li").parent("ul"),page_now,t),co.WebSite.getPageAll(page_now).done((function(a){StationPageSet(a)})))})),a.find(".btn_next button").on("click",(function(){var a=$(this);page_now<t&&(page_now+=1,StationContentPageChage(a.parent("li").parent("ul"),page_now,t),co.WebSite.getPageAll(page_now).done((function(a){StationPageSet(a)})))})),a.find(".btn_page button").on("click",(function(){var a=$(this);page_now=a.data("page"),StationContentPageChage(a.parent("li").parent("ul"),a.data("page"),t),co.WebSite.getPageAll(page_now).done((function(a){StationPageSet(a)}))}))}function StationContentPageChage(a,t,e){a.find("li").each((function(){var a=$(this).find("button");a.data("page")==t?(a.hasClass("focus")||a.addClass("focus"),void 0===a.attr("disabled")&&a.attr("disabled","disabled")):(a.hasClass("focus")&&a.removeClass("focus"),void 0!==a.attr("disabled")&&a.removeAttr("disabled"))})),e>7?(t<4?a.find("li.btn_page").each((function(){var a=$(this).find("button");a.data("page")<=5||a.data("page")==e?a.removeClass("d-none"):a.addClass("d-none")})):t>e-3?a.find("li.btn_page").each((function(){var a=$(this).find("button");a.data("page")>=e-4||1==a.data("page")?a.removeClass("d-none"):a.addClass("d-none")})):a.find("li.btn_page").each((function(){var a=$(this).find("button");parseInt(t)+2>=a.data("page")&&a.data("page")>=parseInt(t)-2||1==a.data("page")||a.data("page")==e?a.removeClass("d-none"):a.addClass("d-none")})),a.find("li button[data-page=2]").hasClass("d-none")&&a.find("li.starthide button").hasClass("d-none")&&a.find("li.starthide button").removeClass("d-none"),a.find(`li button[data-page=${e-1}]`).hasClass("d-none")&&a.find("li.endhide button").hasClass("d-none")&&a.find("li.endhide button").removeClass("d-none")):a.find("li").each((function(){$(this).find("button").removeClass("d-none")}))}