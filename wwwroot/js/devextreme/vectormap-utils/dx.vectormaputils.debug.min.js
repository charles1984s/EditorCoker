/*!
 * DevExtreme (dx.vectormaputils.debug.js)
 * Version: 21.2.14
 * Build date: Tue Jun 20 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/
 */
"use strict";!function(n,e){if("function"==typeof define&&define.amd)define((function(n,t,r){e(t)}));else if("object"==typeof module&&module.exports)e(t);else{var t=n.DevExpress=n.DevExpress||{};t=(t=t.viz=t.viz||{}).vectormaputils={},e(t)}}(this,(function(n){function e(){}function t(n){return n}function r(n){return"function"==typeof n}function o(n){var e=new DataView(n),t=0,r={pos:function(){return t},skip:function(n){return t+=n,r},ui8arr:function(n){var e=0,t=[];for(t.length=n;e<n;++e)t[e]=r.ui8();return t},ui8:function(){var n=function(n,e){return n.getUint8(e)}(e,t);return t+=1,n},ui16LE:function(){var n=function(n,e){return n.getUint16(e,!0)}(e,t);return t+=2,n},ui32LE:function(){var n=function(n,e){return n.getUint32(e,!0)}(e,t);return t+=4,n},ui32BE:function(){var n=function(n,e){return n.getUint32(e,!1)}(e,t);return t+=4,n},f64LE:function(){var n=function(n,e){return n.getFloat64(e,!0)}(e,t);return t+=8,n}};return r}function i(n){return n=n||{},["shp","dbf"].map((function(e){return function(t){var r,o;n.substr?(e="."+e,r=n+(n.substr(-e.length).toLowerCase()===e?"":e),(o=new XMLHttpRequest).addEventListener("load",(function(){var n,e;n=this.response?null:this.statusText,e=this.response,t(n,e)})),o.open("GET",r),o.responseType="arraybuffer",o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(null)):t(null,n[e]||null)}}))}function u(n,e){var t,r=g(n),o=p(n),i=p(n),u=h(n,o),s=y(n,i),c=[];for(c.length=o,t=0;t<o;++t)c[t]=s.slice(u[t],u[t+1]||i);e.bBox=r,e.coordinates=c}function s(n,e){var t,r,o,i=g(n),u=p(n),s=p(n),c=h(n,u),a=y(n,s),l=v(n),f=d(n,s),b=[];for(b.length=u,t=0;t<u;++t)r=c[t],o=c[t+1]||s,b[t]=m(a.slice(r,o),f.slice(r,o),o-r);e.bBox=i,e.mBox=l,e.coordinates=b}function c(n,e){var t,r,o,i=g(n),u=p(n),s=p(n),c=h(n,u),a=y(n,s),l=v(n),f=d(n,s),m=v(n),L=d(n,s),P=[];for(P.length=u,t=0;t<u;++t)r=c[t],o=c[t+1]||s,P[t]=b(a.slice(r,o),f.slice(r,o),L.slice(r,o),o-r);e.bBox=i,e.zBox=l,e.mBox=m,e.coordinates=P}n.parse=function(n,u,s){var c;return function(n,e){var t=[],r=[],o=1;function i(){0===--o&&e(t,r)}n.forEach((function(n,e){++o,n((function(n,o){t[e]=n,r[e]=o,i()}))})),i()}(i(n),(function(n,i){s=r(u)&&u||r(s)&&s||e,u=!r(u)&&u||{};var l=[];n.forEach((function(n){n&&l.push(n)})),c=function(n,e,t){var r,i=n[0]?function(n,e){var t,r,o,i,u=[];try{t=new Date,o=function(n){var e={};return e.fileCode=n.ui32BE(),n.skip(20),e.fileLength=n.ui32BE()<<1,e.version=n.ui32LE(),e.type_number=n.ui32LE(),e.type=a[e.type_number],e.bBox_XY=g(n),e.bBox_ZM=y(n,2),e}(n)}catch(n){return void e.push("shp: header parsing error: "+n.message+" / "+n.description)}9994!==o.fileCode&&e.push("shp: file code: "+o.fileCode+" / expected: 9994"),1e3!==o.version&&e.push("shp: file version: "+o.version+" / expected: 1000");try{for(;n.pos()<o.fileLength&&(i=L(n,o.type,e));)u.push(i);n.pos()!==o.fileLength&&e.push("shp: file length: "+o.fileLength+" / actual: "+n.pos()),r=new Date}catch(n){e.push("shp: records parsing error: "+n.message+" / "+n.description)}return{bBox:o.bBox_XY,type:o.shapeType,shapes:u,errors:e,time:r-t}}(o(n[0]),t):{},u=n[1]?function(n,e){var t,r,o,i,u;try{t=new Date,o=function(n,e){var t,r,o={versionNumber:n.ui8(),lastUpdate:new Date(1900+n.ui8(),n.ui8()-1,n.ui8()),numberOfRecords:n.ui32LE(),headerLength:n.ui16LE(),recordLength:n.ui16LE(),fields:[]};for(n.skip(20),t=(o.headerLength-n.pos()-1)/32;t>0;--t)o.fields.push(M(n));return 13!==(r=n.ui8())&&e.push("dbf: header terminator: "+r+" / expected: 13"),o}(n,e),i=function(n,e){var t,r,o=[],i=0,u=n.fields.length,s=0;for(i=0;i<u;++i)(t={name:(r=n.fields[i]).name,parser:B[r.type],length:r.length}).parser||(t.parser=E,e.push("dbf: field "+r.name+" type: "+r.type+" / unknown")),s+=r.length,o.push(t);return s+1!==n.recordLength&&e.push("dbf: record length: "+n.recordLength+" / actual: "+(s+1)),o}(o,e),u=function(n,e,t,r,o){var i,u,s,c,a,l=r.length,f=[];for(i=0;i<e;++i){for(c={},s=n.pos(),n.skip(1),u=0;u<l;++u)c[(a=r[u]).name]=a.parser(n,a.length);(s=n.pos()-s)!==t&&o.push("dbf: record #"+(i+1)+" length: "+t+" / actual: "+s),f.push(c)}return f}(n,o.numberOfRecords,o.recordLength,i,e),r=new Date}catch(n){e.push("dbf: parsing error: "+n.message+" / "+n.description)}return{records:u,errors:e,time:r-t}}(o(n[1]),t):{},s=function(n,e,t){var r,o,i=[],u=i.length=Math.max(n.length,e.length);for(r=0;r<u;++r)o=n[r]||{},i[r]={type:"Feature",geometry:{type:o.geoJSON_type||null,coordinates:o.coordinates?t(o.coordinates):[]},properties:e[r]||null};return i}(i.shapes||[],u.records||[],e);return s.length?(r={type:"FeatureCollection",features:s}).bbox=i.bBox:r=null,r}(i,u.precision>=0?function(n){var e=Number("1E"+n);function t(n){return Math.round(n*e)/e}return function n(e){return e.map(e[0].length?n:t)}}(u.precision):t,l),s(c,l.length?l:null)})),c};var a={0:"Null",1:"Point",3:"PolyLine",5:"Polygon",8:"MultiPoint",11:"PointZ",13:"PolyLineZ",15:"PolygonZ",18:"MultiPointZ",21:"PointM",23:"PolyLineM",25:"PolygonM",28:"MultiPointM",31:"MultiPatch"},l={0:e,1:function(n,e){e.coordinates=y(n,1)[0]},3:u,5:u,8:function(n,e){e.bBox=g(n),e.coordinates=y(n,p(n))},11:function(n,e){e.coordinates=y(n,1)[0],e.push(d(n,1)[0],d(n,1)[0])},13:c,15:c,18:function(n,e){var t=g(n),r=p(n),o=y(n,r),i=v(n),u=d(n,r),s=v(n),c=d(n,r);e.bBox=t,e.zBox=i,e.mBox=s,e.coordinates=b(o,u,c,r)},21:function(n,e){e.coordinates=y(n,1)[0],e.coordinates.push(d(n,1)[0])},23:s,25:s,28:function(n,e){var t=g(n),r=p(n),o=y(n,r),i=v(n),u=d(n,r);e.bBox=t,e.mBox=i,e.coordinates=m(o,u,r)},31:function(n,e){var t,r,o,i=g(n),u=p(n),s=p(n),c=h(n,u),a=h(n,u),l=y(n,s),f=v(n),m=d(n,s),L=v(n),P=[];for(P.length=u,t=0;t<u;++t)r=c[t],o=c[t+1]||s,P[t]=b(l.slice(r,o),m.slice(r,o),mValues.slice(r,o),o-r);e.bBox=i,e.zBox=f,e.mBox=L,e.types=a,e.coordinates=P}},f={Null:"Null",Point:"Point",PolyLine:"MultiLineString",Polygon:"Polygon",MultiPoint:"MultiPoint",PointZ:"Point",PolyLineZ:"MultiLineString",PolygonZ:"Polygon",MultiPointZ:"MultiPoint",PointM:"Point",PolyLineM:"MultiLineString",PolygonM:"Polygon",MultiPointM:"MultiPoint",MultiPatch:"MultiPatch"};function p(n){return n.ui32LE()}function h(n,e){var t,r=[];for(r.length=e,t=0;t<e;++t)r[t]=p(n);return r}function d(n,e){var t,r=[];for(r.length=e,t=0;t<e;++t)r[t]=n.f64LE();return r}function g(n){return d(n,4)}function v(n){return[n.f64LE(),n.f64LE()]}function y(n,e){var t,r=[];for(r.length=e,t=0;t<e;++t)r[t]=v(n);return r}function m(n,e,t){var r,o=[];for(o.length=t,r=0;r<t;++r)o[r]=[n[r][0],n[r][1],e[r]];return o}function b(n,e,t,r){var o,i=[];for(i.length=r,o=0;o<r;++o)i[o]=[n[o][0],n[o][1],e[o],t[o]];return i}function L(n,e,t){var r={number:n.ui32BE()},o=n.ui32BE()<<1,i=n.pos(),u=n.ui32LE();return r.type_number=u,r.type=a[u],r.geoJSON_type=f[r.type],r.type?(r.type!==e&&t.push("shp: shape #"+r.number+" type: "+r.type+" / expected: "+e),l[u](n,r),(i=n.pos()-i)!==o&&t.push("shp: shape #"+r.number+" length: "+o+" / actual: "+i)):(t.push("shp: shape #"+r.number+" type: "+u+" / unknown"),r=null),r}var P=String.fromCharCode;function x(n,e){return P.apply(null,n.ui8arr(e))}function M(n){var e={name:x(n,11).replace(/\0*$/gi,""),type:P(n.ui8()),length:n.skip(4).ui8(),count:n.ui8()};return n.skip(14),e}var B={C:function(n,e){var t=x(n,e);try{t=decodeURIComponent(escape(t))}catch(n){}return t.trim()},N:function(n,e){var t=x(n,e);return parseFloat(t)},D:function(n,e){var t=x(n,e);return new Date(t.substring(0,4),t.substring(4,6)-1,t.substring(6,8))}};function E(n,e){return n.skip(e),null}}));