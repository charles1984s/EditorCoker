"use strict";$.fn.extend({GetPageJson:function(){let a={};const e=$(this);return e.find(".formItem").each((function(){const t=$(this),n=t.parents(".formItem");if(0==n.length||n.is(e)){const e=t.attr("name")||t.data("name")||t.attr("id");t.hasClass("list")?e&&e.indexOf("devextreme")<0?a[e]=t.data("component").option("dataSource"):a=t.data("component").option("dataSource"):"checkbox"==t.attr("type")?a[e]=t.prop("checked"):"TagSelected"==e?a[e]=tag_list:t.hasClass("image_upload")?a[e]=t.data("path"):"object"==t.data("type")?a[e]=t.GetPageJson():t.prop("disabled")&&t.data("default")?a[e]=t.data("default"):a[e]=t.val()}})),a},CokerMultiStepForm:function(a){const e=this,t={activeIndex:0,activeClass:"active",validate:{},hideBackButton:!1,allowUnvalidatedStep:!1,allowClickNavigation:!1,btn:{next:e.find('.msf-nav-button[data-type="next"]'),back:e.find('.msf-nav-button[data-type="back"]'),submit:e.find('.msf-nav-button[data-type="submit"]')},save:null},n=$.extend({},t,a),i=e.find(".msf-header .msf-step"),o=e.find(".msf-content .msf-view"),d=function(){i.removeClass(n.activeClass).eq(n.activeIndex).addClass(n.activeClass),o.removeClass(n.activeClass).eq(n.activeIndex).addClass(n.activeClass),0==n.activeIndex?(n.btn.back.addClass("d-none"),n.btn.next.removeClass("d-none"),n.btn.submit.addClass("d-none")):n.activeIndex==i.length-1?(n.btn.back.removeClass("d-none"),n.btn.next.addClass("d-none"),n.btn.submit.removeClass("d-none")):(n.btn.back.removeClass("d-none"),n.btn.next.removeClass("d-none"),n.btn.submit.addClass("d-none"))};return n.btn.next.on("click",(function(){n.activeIndex++,n.activeIndex>i.length-1&&(n.activeIndex=i.length-1),d()})),n.btn.back.on("click",(function(){n.activeIndex--,n.activeIndex<0&&(n.activeIndex=0),d()})),d(),e.on("coker-msf:viewChanged",(function(a,e){var t=Math.round(e.completedSteps/e.totalSteps*100);$(".progress-bar").css("width",t+"%").attr("aria-valuenow",t)})),e.initPage=function(){n.activeIndex=0,d()},e.getJson=function(){const a={};return o.each((function(){const e=$(this);if("main"===e.data("key"))co.Object.merge(a,e.GetPageJson());else a[e.data("key")]=e.GetPageJson()})),a},e.set=function(a){o.each((function(){const e=$(this);switch(e.data("key")){case"main":e.find(".title textarea").val(a.title),e.find(".no input").val(a.no),e.find(".BGColor input").val(a.bgColor),a.logo?(a.logo.File=null,ImageSetData(e.find('.image_upload[data-name="Logo"]').data("path",a.logo),a.logo),$(selt).find('.image_upload[data-name="Logo"] .img_input_frame').data("delectList")):e.find('.image_upload[data-name="Logo"]').data("path",""),a.logoCompress?(a.logoCompress.File=null,ImageSetData(e.find('.image_upload[data-name="LogoCompress"]').data("path",a.logoCompress),a.logoCompress),$(selt).find('.image_upload[data-name="LogoCompress"] .img_input_frame').data("delectList")):e.find('.image_upload[data-name="LogoCompress"]').data("path","");break;case"mainManu":const n=setInterval((function(){e.find(".dx-widget").data("component")&&(e.find(".dx-widget").data("component").option("dataSource",a.mainManu),clearInterval(n))}),100);break;default:if(a[e.data("key")]){var t=a[e.data("key")];if(t.conten&&e.find(".conten textarea").text(t.conten),t.more&&(e.find('[name="title"]').val(t.more.title),e.find('[name="link"]').val(t.more.link),e.find('[name="target"]').prop("checked",1==t.more.target),e.find('[name="alert"]').val(t.more.alert)),t.list&&e.find(".dx-widget").length>0){const a=setInterval((function(){e.find(".dx-widget").data("component")&&(e.find(".dx-widget").data("component").option("dataSource",t.list),clearInterval(a))}),100)}t.mainTitle&&e.find(".mainTitle textarea").text(t.mainTitle),t.title&&e.find(".title textarea").val(t.title),e.find('[name="Visible"]').length>0&&e.find('[name="Visible"]').prop("checked",t.visible),t.line&&(e.find('.line [name="link"]').val(t.line.link),e.find('.line [name="alert"]').val(t.line.alert)),t.home&&(e.find('.home [name="link"]').val(t.home.link),e.find('.home [name="alert"]').val(t.home.alert)),t.image?ImageSetData(e.find('.image_upload[data-name="image"]').data("path",t.image),t.image):e.find('.image_upload[data-name="image"]').data("path",""),t.imageCompress?ImageSetData(e.find('.image_upload[data-name="imageCompress"]').data("path",t.imageCompress),t.imageCompress):e.find('.image_upload[data-name="imageCompress"]').data("path",""),t.icon?ImageSetData(e.find('.image_upload[data-name="icon"]').data("path",t.icon),t.icon):e.find('.image_upload[data-name="icon"]').data("path",""),t.iconCompress?ImageSetData(e.find('.image_upload[data-name="iconCompress"]').data("path",t.iconCompress),t.iconCompress):e.find('.image_upload[data-name="iconCompress"]').data("path",""),$(selt).find('.image_upload[data-name="icon"] .img_input_frame').data("delectList"),$(selt).find('.image_upload[data-name="iconCompress"] .img_input_frame').data("delectList")}}}))},e}});